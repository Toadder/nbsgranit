(()=>{"use strict";function e(e,t){for(let n of e)n.classList.remove(t)}let t=document.querySelectorAll("input[data-tel-input]");for(let e of t)e.addEventListener("keydown",i),e.addEventListener("input",c,!1),e.addEventListener("paste",l,!1);function n(e){return e.value.replace(/\D/g,"")}function l(e){let t=e.target,l=n(t),c=e.clipboardData||window.clipboardData;if(c){let e=c.getData("Text");if(/\D/g.test(e))return void(t.value=l)}}function c(e){let t=e.target,l=n(t),c=t.selectionStart,i="";if(!l)return t.value="";if(t.value.length==c){if(["7","8","9"].indexOf(l[0])>-1){"9"==l[0]&&(l="7"+l);let e="8"==l[0]?"8":"+7";i=t.value=e+" ",l.length>1&&(i+="("+l.substring(1,4)),l.length>=5&&(i+=") "+l.substring(4,7)),l.length>=8&&(i+="-"+l.substring(7,9)),l.length>=10&&(i+="-"+l.substring(9,11))}else i="+"+l.substring(0,16);t.value=i}else e.data&&/\D/g.test(e.data)&&(t.value=l)}function i(e){let t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")}const o=document.querySelectorAll(".popup-link"),s=document.querySelector("body"),r=document.querySelectorAll(".lock-padding");let a=!0;const u=800;if(o.length>0)for(let e=0;e<o.length;e++){const t=o[e];t.addEventListener("click",(function(e){const n=t.getAttribute("href").replace("#","");g(document.getElementById(n)),e.preventDefault()}))}const d=document.querySelectorAll(".close-popup");if(d.length>0)for(let e=0;e<d.length;e++){const t=d[e];t.addEventListener("click",(function(e){f(t.closest(".popup")),e.preventDefault()}))}function g(e){if(e&&a){const t=document.querySelector(".popup.open");t?f(t,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(r.length>0)for(let t=0;t<r.length;t++)r[t].style.paddingRight=e;s.style.paddingRight=e,s.classList.add("lock"),a=!1,setTimeout((function(){a=!0}),u)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||f(e.target.closest(".popup"))}))}}function f(e,t=!0){a&&(e.classList.remove("open"),t&&(setTimeout((function(){if(r.length>0)for(let e=0;e<r.length;e++)r[e].style.paddingRight="0px";s.style.paddingRight="0px",s.classList.remove("lock")}),u),a=!1,setTimeout((function(){a=!0}),u)))}document.addEventListener("keydown",(function(e){27===e.which&&f(document.querySelector(".popup.open"))}));const p=document.querySelectorAll("[data-tabs]");if(p.length)for(let e=0;e<p.length;e++)v(p[e]);function v(t){const n=Array.from(t.querySelectorAll(".tabs__tab")),l=t.querySelectorAll(".contents__content");for(let t=0;t<n.length;t++){const c=n[t];c.addEventListener("click",(()=>{const t=n.indexOf(c);e(n,"active"),e(l,"active"),c.classList.add("active"),l[t].classList.add("active")}))}}const _=document.querySelectorAll(".select");if(_.length>0)for(let e=0;e<_.length;e++){const t=_[e],n=t.querySelector(".select__placeholder"),l=t.querySelector(".select__button"),c=t.querySelector(".select__list"),i=t.querySelectorAll(".select__list-item"),o=t.querySelector("input");l.addEventListener("click",(function(){l.classList.toggle("select__button_clicked"),c.classList.toggle("select__list_visible")})),i.forEach((e=>{e.addEventListener("click",(function(e){e.stopPropagation(),n.textContent=this.textContent,o.value=this.dataset.value,l.classList.remove("select__button_clicked"),c.classList.remove("select__list_visible")}))})),document.addEventListener("click",(e=>{e.target.closest(".select__button")!==l&&(l.classList.remove("select__button_clicked"),c.classList.remove("select__list_visible"))}))}const m=document.querySelector(".header"),h=m.querySelector(".header__burger"),y=m.querySelector(".header__mobile");h&&h.addEventListener("click",(()=>{h.classList.toggle("header__burger_active"),y.classList.toggle("header__mobile_active")}));const q=document.querySelectorAll(".js-input-password");if(q.length)for(let e=0;e<q.length;e++){const t=q[e],n=t.querySelector("input"),l=t.querySelector(".js-input-password__eye");l&&l.addEventListener("click",(()=>{const e="password"===n.type?"text":"password";t.classList.toggle("js-input-password_shown"),n.type=e}))}window.onload=()=>{const e=document.querySelector(".card-quiz");if(e){const t={link:{item:e.querySelector(".card-quiz__link"),active:!0},prev:{item:e.querySelector(".card-quiz__prev"),active:!1},next:{item:e.querySelector(".card-quiz__next"),active:!0},submit:{item:e.querySelector(".card-quiz__submit"),active:!1}},n=new Swiper(".card-quiz__slider",{effect:"fade",fadeEffect:{crossFade:!0},autoHeight:!0,speed:300,allowTouchMove:!1,simulateTouch:!1,navigation:{nextEl:".card-quiz__next",prevEl:".card-quiz__prev"},loop:!1}),l=()=>{for(let e of Object.keys(t))t[e].active?t[e].item.style.display="flex":t[e].item.style.display="none"};n.on("slideChange",(e=>{t.link.active=e.isBeginning,t.prev.active=!e.isBeginning,t.submit.active=e.isEnd,t.next.active=!e.isEnd,l()}))}const t=document.querySelectorAll(".anchor-link"),n=window.location.href,l=location.origin;n.includes("/#_")&&(c(n.substring(n.indexOf("/#_")+3)),history.pushState("",document.title,l));for(let e=0;e<t.length;e++){const n=t[e];n.addEventListener("click",(e=>{let t=n.getAttribute("href");t.includes("#")&&(e.preventDefault(),t=t.replace("#",""),document.getElementById(t)?c(t):window.location.href=`${l}/#_${t}`)}))}function c(e){const t=document.getElementById(e).getBoundingClientRect().top-m.clientHeight;window.scrollBy({top:t,behavior:"smooth"})}};const L=Array.from(document.querySelectorAll(".left-item__thumb"));if(L.length){const e=document.querySelector(".left-item__img");for(let t=0;t<L.length;t++){const n=L[t];n.addEventListener("mouseenter",(()=>S(n,e))),n.addEventListener("click",(()=>S(n,e)))}}function S(e,t){if(e.classList.contains("active"))return;const[n]=L.filter((e=>e.classList.contains("active")));t.classList.add("hidden"),n.classList.remove("active"),e.classList.add("active");const l=e.src.replace("_small","");setTimeout((()=>{t.src=l,t.onload=()=>t.classList.remove("hidden")}),400)}})();